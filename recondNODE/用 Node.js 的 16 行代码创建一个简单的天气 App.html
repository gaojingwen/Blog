<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ç”¨ Node.js çš„ 16 è¡Œä»£ç åˆ›å»ºä¸€ä¸ªç®€å•çš„å¤©æ°” App | å°ä¸‰èƒ–æŠ€æœ¯æ ˆ</title>
    <meta name="description" content="ä½›ç³»å‰ç«¯å¤§ç¥">
    <meta charset="UTF-8">
  <link rel="icon" href="/Blog/favicon.ico">
    
    <link rel="preload" href="/Blog/assets/css/0.styles.9ba1bd5b.css" as="style"><link rel="preload" href="/Blog/assets/js/app.b624378b.js" as="script"><link rel="preload" href="/Blog/assets/js/32.b715a23d.js" as="script"><link rel="prefetch" href="/Blog/assets/js/25.812a025f.js"><link rel="prefetch" href="/Blog/assets/js/2.6f79cb1b.js"><link rel="prefetch" href="/Blog/assets/js/3.d16a0c2c.js"><link rel="prefetch" href="/Blog/assets/js/4.981975ce.js"><link rel="prefetch" href="/Blog/assets/js/5.22251c73.js"><link rel="prefetch" href="/Blog/assets/js/6.628e770d.js"><link rel="prefetch" href="/Blog/assets/js/7.07e2b6b4.js"><link rel="prefetch" href="/Blog/assets/js/8.2bccae8e.js"><link rel="prefetch" href="/Blog/assets/js/9.5fab895e.js"><link rel="prefetch" href="/Blog/assets/js/10.322ce4df.js"><link rel="prefetch" href="/Blog/assets/js/11.006e4719.js"><link rel="prefetch" href="/Blog/assets/js/12.3333e057.js"><link rel="prefetch" href="/Blog/assets/js/13.1af90041.js"><link rel="prefetch" href="/Blog/assets/js/14.182c46a3.js"><link rel="prefetch" href="/Blog/assets/js/15.1cbbb4a1.js"><link rel="prefetch" href="/Blog/assets/js/16.49b9f0b6.js"><link rel="prefetch" href="/Blog/assets/js/17.29b175e7.js"><link rel="prefetch" href="/Blog/assets/js/18.297427c5.js"><link rel="prefetch" href="/Blog/assets/js/19.2663f562.js"><link rel="prefetch" href="/Blog/assets/js/20.b7420290.js"><link rel="prefetch" href="/Blog/assets/js/21.d39c8908.js"><link rel="prefetch" href="/Blog/assets/js/22.f1126d66.js"><link rel="prefetch" href="/Blog/assets/js/23.4a7a29be.js"><link rel="prefetch" href="/Blog/assets/js/24.e6bca216.js"><link rel="prefetch" href="/Blog/assets/js/26.9960f054.js"><link rel="prefetch" href="/Blog/assets/js/27.fc3fad79.js"><link rel="prefetch" href="/Blog/assets/js/28.cd83fc3d.js"><link rel="prefetch" href="/Blog/assets/js/29.443e4941.js"><link rel="prefetch" href="/Blog/assets/js/30.6a8a17b9.js"><link rel="prefetch" href="/Blog/assets/js/31.8fc47db9.js"><link rel="prefetch" href="/Blog/assets/js/33.518efbd0.js"><link rel="prefetch" href="/Blog/assets/js/34.76e7b1b1.js"><link rel="prefetch" href="/Blog/assets/js/35.f8a6b00b.js"><link rel="prefetch" href="/Blog/assets/js/36.8c12af51.js"><link rel="prefetch" href="/Blog/assets/js/37.cda5ca1d.js"><link rel="prefetch" href="/Blog/assets/js/38.60935ef0.js"><link rel="prefetch" href="/Blog/assets/js/39.26c637dd.js"><link rel="prefetch" href="/Blog/assets/js/40.44a0bfa7.js"><link rel="prefetch" href="/Blog/assets/js/41.259d1527.js"><link rel="prefetch" href="/Blog/assets/js/42.ab80d836.js"><link rel="prefetch" href="/Blog/assets/js/43.0af190a7.js"><link rel="prefetch" href="/Blog/assets/js/44.093f7743.js"><link rel="prefetch" href="/Blog/assets/js/45.8c17580f.js"><link rel="prefetch" href="/Blog/assets/js/46.fd30eace.js"><link rel="prefetch" href="/Blog/assets/js/47.214dd0f8.js"><link rel="prefetch" href="/Blog/assets/js/48.d43dc2ae.js"><link rel="prefetch" href="/Blog/assets/js/49.6136b23c.js"><link rel="prefetch" href="/Blog/assets/js/50.fd4e81e2.js"><link rel="prefetch" href="/Blog/assets/js/51.9fa346c5.js"><link rel="prefetch" href="/Blog/assets/js/52.6e5d9385.js"><link rel="prefetch" href="/Blog/assets/js/53.19db09c4.js">
    <link rel="stylesheet" href="/Blog/assets/css/0.styles.9ba1bd5b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/Blog/" class="home-link router-link-active"><!----> <span class="site-name">å°ä¸‰èƒ–æŠ€æœ¯æ ˆ</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Blog/recondRESUME/" class="nav-link">Resume</a></div><div class="nav-item"><a href="/Blog/recondCSS/" class="nav-link">Css</a></div><div class="nav-item"><a href="/Blog/recondJAVASCRIPT/" class="nav-link">Javascript</a></div><div class="nav-item"><a href="/Blog/recondVUE/" class="nav-link">Vue</a></div><div class="nav-item"><a href="/Blog/recondNODE/" class="nav-link router-link-active">Node</a></div><div class="nav-item"><a href="/Blog/recondES6/" class="nav-link">Es6</a></div><div class="nav-item"><a href="/Blog/recondPROJECT/" class="nav-link">projectify</a></div><div class="nav-item"><a href="/Blog/recondSUMMARY/" class="nav-link">summary</a></div><div class="nav-item"><a href="/Blog/recondFEATURE/" class="nav-link">feature</a></div><div class="nav-item"><a href="/Blog/recondGIT/" class="nav-link">git</a></div><div class="nav-item"><a href="/Blog/recondOTHER/" class="nav-link">other</a></div><div class="nav-item"><a href="https://github.com/gaojingwen" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHubåœ°å€
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Blog/recondRESUME/" class="nav-link">Resume</a></div><div class="nav-item"><a href="/Blog/recondCSS/" class="nav-link">Css</a></div><div class="nav-item"><a href="/Blog/recondJAVASCRIPT/" class="nav-link">Javascript</a></div><div class="nav-item"><a href="/Blog/recondVUE/" class="nav-link">Vue</a></div><div class="nav-item"><a href="/Blog/recondNODE/" class="nav-link router-link-active">Node</a></div><div class="nav-item"><a href="/Blog/recondES6/" class="nav-link">Es6</a></div><div class="nav-item"><a href="/Blog/recondPROJECT/" class="nav-link">projectify</a></div><div class="nav-item"><a href="/Blog/recondSUMMARY/" class="nav-link">summary</a></div><div class="nav-item"><a href="/Blog/recondFEATURE/" class="nav-link">feature</a></div><div class="nav-item"><a href="/Blog/recondGIT/" class="nav-link">git</a></div><div class="nav-item"><a href="/Blog/recondOTHER/" class="nav-link">other</a></div><div class="nav-item"><a href="https://github.com/gaojingwen" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHubåœ°å€
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><div class="sidebar-group first"><p class="sidebar-heading open"><span>Node</span> <!----></p> <ul class="sidebar-group-items"><li><a href="/Blog/recondNODE/" class="sidebar-link">å¤§ç¬¨è›‹</a></li><li><a href="/Blog/recondNODE/ã€ŠNode.jsè®¾è®¡æ¨¡å¼ã€‹ä½¿ç”¨æµè¿›è¡Œç¼–ç .html" class="sidebar-link">ã€ŠNode.jsè®¾è®¡æ¨¡å¼ã€‹ä½¿ç”¨æµè¿›è¡Œç¼–ç </a></li><li><a href="/Blog/recondNODE/ç”¨ Node.js çš„ 16 è¡Œä»£ç åˆ›å»ºä¸€ä¸ªç®€å•çš„å¤©æ°” App.html" class="active sidebar-link">ç”¨ Node.js çš„ 16 è¡Œä»£ç åˆ›å»ºä¸€ä¸ªç®€å•çš„å¤©æ°” App</a></li></ul></div></li></ul> </div> <div class="page"> <div class="content"><h1 id="ç”¨-node-js-çš„-16-è¡Œä»£ç åˆ›å»ºä¸€ä¸ªç®€å•çš„å¤©æ°”-app"><a href="#ç”¨-node-js-çš„-16-è¡Œä»£ç åˆ›å»ºä¸€ä¸ªç®€å•çš„å¤©æ°”-app" aria-hidden="true" class="header-anchor">#</a> ç”¨ Node.js çš„ 16 è¡Œä»£ç åˆ›å»ºä¸€ä¸ªç®€å•çš„å¤©æ°” App</h1> <p>æ™¯æœé˜³ [AutoCFE](javascript:void(0)ğŸ˜‰ <em>2017-09-01</em></p> <p>åŸæ–‡åœ°å€ï¼šhttps://codeburst.io/build-a-simple-weather-app-with-node-js-in-just-16-lines-of-code-32261690901d</p> <p>ä»…15åˆ†é’Ÿå­¦ä¼šä½¿ç”¨ API è°ƒç”¨å¹¶å»ºç«‹ä¸€ä¸ªå‘½ä»¤è¡Œå¤©æ°”åº”ç”¨ç¨‹åºã€‚</p> <p>æœ¬æ•™ç¨‹çš„èŒƒå›´</p> <p>æ¬¢è¿ï¼è¿™æ˜¯å¤šç¯‡æ•™ç¨‹ä¸­çš„ç¬¬ä¸€ç¯‡æ–‡ç« ï¼</p> <p>åœ¨æœ¬æ•™ç¨‹ä¸­,æ‚¨å°†å­¦ä¹ å¦‚ä½•è°ƒ</p> <p>ç”¨ OpenWeatherMap.org API å¹¶æŠŠç»“æœè¾“å‡ºåˆ°æ§åˆ¶å°ã€‚</p> <p>- 20 ç§’å¿«é€Ÿæ³¨å†Œ OpenWeatherMap.org è´¦æˆ·ã€‚</p> <p>- Node.js : å¦‚æœæ²¡æœ‰å®‰è£… Nodeï¼Œè¯·åˆ°å®˜ç½‘ Node.js website ä¸‹è½½å¹¶å®‰è£…ã€‚å¦‚æœè¿™æ ·çš„é¡¹ç›®ä½ æ„Ÿå…´è¶£å¹¶ä¸”ä½ ä¹Ÿåœ¨å¯»æ‰¾ Node æ›´æ·±å…¥çš„æ•™ç¨‹è¯·æŸ¥çœ‹å¦ä¸€ç¯‡æ–‡ç«  Top Three Node.js courses</p> <p>ç¬¬ä¸€æ­¥ï¼šOpenWeatherMap</p> <p>å½“ä½ æƒ³ç©ç© API ï¼ŒOpenWeatherMap æ˜¯ä¸€ä¸ªä¸é”™çš„åœ°æ–¹ã€‚å®é™…ä¸Šæœ‰å…³äºå¤©æ°”çš„11ç§ä¸åŒçš„apiä¾›æ‚¨è®¿é—®ã€‚</p> <p>å¯¹äºè¿™ä¸ªé¡¹ç›®æˆ‘ä»¬å°†ä½¿ç”¨å…è´¹çš„ Current Weather API, ç‚¹å‡»æ­¤å¤„æ³¨å†Œè´¦å·ã€‚</p> <p>ç™»é™†ä¹‹åï¼Œ ç‚¹å‡» API keys, åœ¨é¡µé¢çš„å³ä¾§ä½ å¯ä»¥åˆ›å»ºä¸€ä¸ª keyï¼Œè¾“å…¥ä¸€ä¸ªåç§°(ä»»ä½•)å¹¶é€‰æ‹©ç”Ÿæˆã€‚åœ¨é¡µé¢å·¦ä¾§å¯ä»¥çœ‹åˆ°ç”Ÿæˆçš„ API Keyã€‚</p> <p><img src="https://mmbiz.qpic.cn/mmbiz_png/gb0VkRWbm2PyX0Yic6WOSciciaibUe1K1tOdNuU6ANS5l6IUupKxOwibMvaWicKNlvpBN5Mxc3v5RLHMKAiboYahZlorw/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1" alt="img"></p> <p>å¤ªæ£’äº†,ç°åœ¨æˆ‘ä»¬æœ‰APIå¯†åŒ™ï¼Œå¯ä»¥å¼€å§‹åˆ›å»ºæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºã€‚</p> <p>ç¬¬äºŒæ­¥ï¼šSetting up the project</p> <p>\1. åˆ›å»º node-weather æ–‡ä»¶å¤¹ç„¶åæ‰§è¡Œï¼š</p> <p>npm init</p> <p>\2. å¡«å†™æ‰€éœ€çš„ä¿¡æ¯æ¥åˆå§‹åŒ–æˆ‘ä»¬çš„é¡¹ç›®</p> <p>ä»¥ä¸‹æ˜¯æˆ‘çš„ package.json æ–‡ä»¶åˆå§‹åŒ–åçš„æ ·å­ã€‚</p> <p>æ³¨æ„:ä½ æœ¬åœ°çš„è·Ÿæˆ‘çš„çœ‹èµ·æ¥ç•¥æœ‰ä¸åŒ,æ²¡å…³ç³»ã€‚</p> <p>{</p> <p>&quot;name&quot;: &quot;simple-nodejs-weather-app&quot;,</p> <p>&quot;version&quot;: &quot;1.0.0&quot;,</p> <p>&quot;description&quot;: &quot;&quot;,</p> <p>&quot;main&quot;: &quot;index.js&quot;,</p> <p>&quot;scripts&quot;: {</p> <p>â€‹    &quot;test&quot;: &quot;echo &quot;Error: no test specified&quot; &amp;&amp; exit 1&quot;</p> <p>},</p> <p>&quot;repository&quot;: {</p> <p>â€‹    &quot;type&quot;: &quot;git&quot;,</p> <p>â€‹    &quot;url&quot;: &quot;git+https://github.com/bmorelli25/simple-nodejs-weather-app.git&quot;</p> <p>},</p> <p>&quot;author&quot;: &quot;brandon morelli&quot;,</p> <p>&quot;license&quot;: &quot;ISC&quot;,</p> <p>&quot;bugs&quot;: {</p> <p>â€‹    &quot;url&quot;: &quot;https://github.com/bmorelli25/simple-nodejs-weather-app/issues&quot;</p> <p>},</p> <p>&quot;homepage&quot;: &quot;https://github.com/bmorelli25/simple-nodejs-weather-app#readme&quot;,</p> <p>&quot;dependencies&quot;: {</p> <p>}</p> <p>}</p> <p>\3.  åˆ›å»º index.js æ–‡ä»¶ï¼Œæ­¤æ–‡ä»¶å°†åŒ…å«åº”ç”¨ç¨‹åºçš„ä»£ç ã€‚</p> <p>Making the API call</p> <p>APIè°ƒç”¨ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨ä¸€ä¸ªå—æ¬¢è¿çš„npmæ¨¡å— request è°ƒç”¨ã€‚ request å·²ç»æœ‰æ•°ä»¥ç™¾ä¸‡çš„ä¸‹è½½ï¼Œæ˜¯ä¸€ä¸ªç®€åŒ– http è¯·æ±‚çš„æ¨¡å—ã€‚</p> <p>npm install request --save</p> <p>å°±åƒæˆ‘è¯´çš„, request å¾ˆå®¹æ˜“ä½¿ç”¨ã€‚æˆ‘ä»¬åªéœ€è¦ä¼ æƒ¨ urlï¼Œrequest è¿”å›ä¸€ä¸ªå›è°ƒå‡½æ•°ã€‚</p> <p>const request = require('request');</p> <p>request(url, function (err, response, body) {</p> <p>if(err){</p> <p>â€‹    console.log('error:', error);</p> <p>} else {</p> <p>â€‹    console.log('body:', body);</p> <p>}</p> <p>});</p> <p>è®©æˆ‘ä»¬åˆ†è§£è¿™ä¸ªä»£ç </p> <p>\1. å¼•å…¥ request åŒ…</p> <p>\2. ä¼  url ï¼Œrequest è¿”å›ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå…¶ä¸­å‚æ•°ä¸º err ã€ response ã€body</p> <p>\3. åœ¨è¯·æ±‚ä¸­æ£€æŸ¥é”™è¯¯ï¼Œ å¦‚æœæœ‰ error ï¼Œè¾“å‡ºåˆ°æ§åˆ¶å°</p> <p>\4. å¦‚æœæ²¡æœ‰ error, å°† body è¾“å‡ºã€‚</p> <p>å¤ªæ£’å•¦ï¼Œä¸è¿‡ url æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</p> <p>é€šè¿‡é˜…è¯»OpenWeatherMap(https://openweathermap.org/current)  æ–‡æ¡£ï¼Œèƒ½å¤Ÿç¡®å®š url æ˜¯ä»€ä¹ˆã€‚http://api.openweathermap.org/data/2.5/weather éœ€è¦ä¸¤ä¸ªå¿…é¡»çš„å‚æ•°ã€‚å·²é”®å€¼å¯¹å½¢å¼é€šè¿‡ url ä¼ é€’åŸå¸‚ä»¥åŠ API Key ã€‚</p> <p>let apiKey = '****************************';</p> <p>let city = 'portland';</p> <p>let url = <code>http://api.openweathermap.org/data/2.5/weather?q=${city}&amp;appid=${apiKey}</code></p> <p>ä¸Šè¿°ä»£ç åšäº†3ä»¶äº‹</p> <p>\1. å£°æ˜å˜é‡ apiKey å­˜æ”¾ API Key</p> <p>\2. å£°æ˜å˜é‡  city å­˜æ”¾åŸå¸‚ã€‚</p> <p>\3. å£°æ˜å˜é‡ url å­˜æ”¾æ¥å£åœ°å€ï¼Œ? åé¢æ˜¯æŸ¥è¯¢å‚æ•°ï¼Œä»¥ key = value å½¢å¼å­˜åœ¨ï¼Œä¸åŒå‚æ•°é—´ä»¥ &amp; è¿æ¥</p> <p>ä»£ç æ•´åˆåå¦‚ä¸‹ï¼š</p> <p>let request = require('request');</p> <p>let apiKey = '*****************************';</p> <p>let city = 'portland';</p> <p>let url = <code>http://api.openweathermap.org/data/2.5/weather?q=${city}&amp;appid=${apiKey}</code></p> <p>request(url, function (err, response, body) {</p> <p>if(err){</p> <p>â€‹    console.log('error:', error);</p> <p>} else {</p> <p>â€‹    console.log('body:', body);</p> <p>}</p> <p>});</p> <p>æ§åˆ¶å°è¾“å…¥è¿è¡Œä»£ç ï¼š</p> <p>node index.js</p> <p>// the following is returned:</p> <p>body: {&quot;coord&quot;:{&quot;lon&quot;:-122.68,&quot;lat&quot;:45.52},&quot;weather&quot;:  [{&quot;id&quot;:801,&quot;main&quot;:&quot;Clouds&quot;,&quot;description&quot;:&quot;few clouds&quot;,&quot;icon&quot;:&quot;02d&quot;}],&quot;base&quot;:&quot;stations&quot;,&quot;main&quot;:{&quot;temp&quot;:302.15,&quot;pressure&quot;:1014,&quot;humidity&quot;:51,&quot;temp_min&quot;:301.15,&quot;temp_max&quot;:303.15},&quot;visibility&quot;:16093,&quot;wind&quot;:{&quot;speed&quot;:2.6,&quot;deg&quot;:320},&quot;clouds&quot;:{&quot;all&quot;:20},&quot;dt&quot;:1497905580,&quot;sys&quot;:{&quot;type&quot;:1,&quot;id&quot;:2274,&quot;message&quot;:0.0042,&quot;country&quot;:&quot;US&quot;,&quot;sunrise&quot;:1497874905,&quot;sunset&quot;:1497931383},&quot;id&quot;:5746545,&quot;name&quot;:&quot;Portland&quot;,&quot;cod&quot;:200}</p> <p>æˆ‘ä»¬æˆåŠŸçš„è¯·æ±‚äº† OpenWeatherMapâ€™s API å¹¶è¿”å›äº†æ•°æ®ã€‚æ•°æ®é‡Œæœ‰å¥½å¤šä¿¡æ¯ï¼Œæ¯”å¦‚ æ¸©åº¦ã€æ¹¿åº¦ã€é£é€Ÿç­‰ç­‰</p> <p>é‡è¦æç¤ºï¼šä½ æ°¸è¿œä¸ä¼šåƒè¿™æ ·åœ¨ä½ çš„ä»£ç ä¸­å…¬å¼€ä½ çš„APIå¯†é’¥ã€‚ä¸ºäº†ç®€æ´èµ·è§ï¼Œæˆ‘åƒè¿™æ ·æŠŠå®ƒæ”¾åœ¨å…¬å¼€çš„åœ°æ–¹ã€‚åœ¨ä»¥åçš„æ•™ç¨‹ä¸­ï¼Œæˆ‘å°†å‘æ‚¨å±•ç¤ºå¦‚ä½•ä½¿ç”¨ç¯å¢ƒå˜é‡éšè— API ã€‚ç°åœ¨ï¼Œåªéœ€è¦çŸ¥é“åƒè¿™æ ·å…¬å¼€ API å¯†é’¥æ˜¯ä¸æ ‡å‡†çš„ã€‚</p> <p>æ•´ç†è¿”å›æ•°æ®</p> <p>è¿™ä¸ªåº”ç”¨ç¨‹åºè¿˜ä¸èƒ½ç”¨ã€‚è¿”å›çš„æ•°æ®æ··ä¹±æ‚ä¹±ä»¤äººè®¨åŒã€‚è®©æˆ‘ä»¬æŠŠæ•´ç†ä¸‹ã€‚</p> <p>æˆ‘ä»¬éœ€è¦åšçš„ç¬¬ä¸€ä»¶äº‹æ˜¯å°†è¿”å›å­—ç¬¦ä¸² json è½¬æ¢æˆ JavaScript å¯¹è±¡ã€‚</p> <p>æˆ‘ä»¬ç”¨ä»¥ä¸‹ä»£ç è½¬æ¢ï¼š</p> <p>let weather = JSON.parse(body)</p> <p>ç°åœ¨æˆ‘ä»¬æœ‰äº† JavaScript å¯¹è±¡ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨ç‚¹æˆ–æ‹¬å·ç¬¦å·æ¥è®¿é—®å¯¹è±¡ä¸­çš„æ•°æ®ã€‚ä¸‹é¢ï¼Œæˆ‘ä»¬é€šè¿‡è®¿é—®å¤©æ°”å¯¹è±¡ä¸­çš„æ•°æ®æ„é€ æ¶ˆæ¯å­—ç¬¦ä¸²ã€‚</p> <p>let message = <code>It's ${weather.main.temp} degrees in${weather.name}!</code>;</p> <p>console.log(message);</p> <p>æ‰§è¡Œç¨‹åºï¼Œè¾“å‡ºå¦‚ä¸‹ï¼š</p> <p>node index.js</p> <p>// It's 300.4 degrees in Portland</p> <p>ç¨ç­‰ã€‚ç¨‹åºæ²¡æœ‰é”™ï¼ŒOpenWeatherMap  é»˜è®¤è¿”å› Kelvin æ¸©åº¦ã€‚å¦‚æœéœ€è¦åæ°æ¸©åº¦æ·»åŠ å‚æ•° units=imperialã€‚</p> <p>æ‰§è¡Œä»£ç ï¼š</p> <p>node index.js</p> <p>// It's 70.1 degrees in Portland</p> <p>ä¿®æ”¹åä»£ç å¦‚ä¸‹ï¼š</p> <p>let request = require('request');</p> <p>let apiKey = '***********************************';</p> <p>let city = 'portland';</p> <p>let url = <code>http://api.openweathermap.org/data/2.5/weather?q=${city}&amp;units=imperial&amp;appid=${apiKey}</code></p> <p>request(url, function (err, response, body) {</p> <p>if(err){</p> <p>â€‹    console.log('error:', error);</p> <p>} else {</p> <p>â€‹    let weather = JSON.parse(body)</p> <p>â€‹    let message = <code>It's ${weather.main.temp} degrees in ${weather.name}!</code>;</p> <p>â€‹    console.log(message);</p> <p>}</p> <p>});</p> <p>æ·»åŠ äº¤äº’æ€§</p> <p>æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºä»ç„¶å¾ˆæ— èŠã€‚æˆ‘ä»¬åªèƒ½è®¿é—®æ³¢ç‰¹å…°ä¿„å‹’å†ˆçš„å¤©æ°”ã€‚è®©æˆ‘ä»¬æ·»åŠ ä¸€äº›äº’åŠ¨ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨yargs(https://www.npmjs.com/package/yargs)ã€‚ Yargsæ˜¯äº¤äº’å¼å‘½ä»¤è¡Œæ¥å£å·¥å…·ã€‚æˆ–è€…æ›´ç®€å•åœ°è¯´ï¼Œå®ƒå…è®¸æˆ‘ä»¬ä»å‘½ä»¤è¡Œå®šä¹‰å˜é‡ã€‚</p> <p>å®‰è£… yargs :</p> <p>npm install yargs --save</p> <p>yargs å°†æ§åˆ¶å°è¾“å…¥çš„å˜é‡æ”¾åœ¨ argv å¯¹è±¡é‡Œã€‚æˆ‘ä»¬è®¾ç½®å’Œè®¿é—®è¿™ä¸ªå¯¹è±¡å¦‚ä¸‹ï¼š</p> <p>const argv = require('yargs').argv;</p> <p>æˆ‘ä»¬å°†ä½¿ç”¨ c è¡¨ç¤ºåŸå¸‚:</p> <p>ä¿®æ”¹ city å˜é‡ä¸º argv.c ã€‚å¦‚æœæ²¡æœ‰è¾“å…¥å˜é‡ï¼Œé»˜è®¤ä¸º Portland ã€‚å¦‚ä¸‹ï¼š</p> <p>let city = argv.c || 'portland';</p> <p>è¿è¡Œç¨‹åº:</p> <p>node index.js</p> <p>æˆ‘ä»¬éœ€è¦ä¼ é€’ä¸€ä¸ªåä¸º c çš„å˜é‡ï¼Œå¦‚ä¸‹æ‰€ç¤º</p> <p>node index.js -c Boston</p> <p>// It's 85 degrees in Boston</p> <p>æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªæ ‡å¿—è¡¨ç¤ºä¼ é€’çš„å˜é‡ã€‚å› ä¸ºæˆ‘ä»¬å°†å˜é‡è®¾ç½®ä¸ºå­—æ¯ cï¼Œæ‰€ä»¥æˆ‘ä»¬ç”¨ c ä¼ é€’å˜é‡ã€‚c åé¢å¯ä»¥è·Ÿä»»ä½•æˆ‘ä»¬æƒ³è¦çš„åŸå¸‚åç§°ï¼</p> <p>node index.js -c Anchorage</p> <p>// It's 47 degrees in Anchorage</p> <p>åœ¨è¿™ä¸€ç‚¹ä¸Šï¼Œæˆ‘ä»¬çš„ä»£ç å…¥ä¸‹ï¼š</p> <p>const request = require('request');</p> <p>const argv = require('yargs').argv;</p> <p>let apiKey = '*****************************';</p> <p>let city = argv.c || 'portland';</p> <p>let url = <code>http://api.openweathermap.org/data/2.5/weather?q=${city}&amp;units=imperial&amp;appid=${apiKey}</code></p> <p>request(url, function (err, response, body) {</p> <p>if(err){</p> <p>â€‹    console.log('error:', error);</p> <p>} else {</p> <p>â€‹    let weather = JSON.parse(body)</p> <p>â€‹    let message = <code>It's ${weather.main.temp} degrees in ${weather.name}!</code>;</p> <p>â€‹    console.log(message);</p> <p>}</p> <p>});</p> <p>ä½ åšåˆ°äº†ï¼</p></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">9/17/2018, 5:48:19 PM</span></div></div> <!----> </div> <!----></div></div>
    <script src="/Blog/assets/js/32.b715a23d.js" defer></script><script src="/Blog/assets/js/app.b624378b.js" defer></script>
  </body>
</html>
